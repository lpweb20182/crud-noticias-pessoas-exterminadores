<h1>Editar notícia</h1>
<br>
<div *ngIf="noticia">
  <form class="mt-1" #cadastro="ngForm" (submit)="editar(noticia.id, noticia.titulo, noticia.resumo, noticia.conteudo, noticia.autor.id, noticia.data, noticia.publicada, noticia.destaque)">
    <div *ngIf="update_ok" class="alert alert-success">
      Notícia atualizada com sucesso!
    </div>
    <div *ngIf="update_erro" class="alert alert-warning">
      Não foi possível atualizar a notícia. Tente novamente dentro de instantes.
    </div>
    <div class="form-group">
      <label for="titulo">Título</label>
      <input type="text" class="form-control" name="titulo" id="titulo" [(ngModel)]="noticia.titulo" required>
    </div>
    <div class="form-group">
      <label for="resumo">Resumo</label>
      <textarea name="resumo" class="form-control" id="resumo" [(ngModel)]="noticia.resumo" required></textarea>
    </div>
    <div class="form-group">
      <label for="conteudo">Conteúdo</label>
      <textarea name="conteudo" class="form-control" id="conteudo" [(ngModel)]="noticia.conteudo" required></textarea>
    </div>
    <div class="form-group">
      <label>Autor</label>
      <select name="autor" class="form-control" id="autor" [(ngModel)]="noticia.autor.id" required>
        <option *ngFor="let a of autores | async" [value]="a.id">{{a.nome}}</option>
      </select>
    </div>
    <div class="form-group">
      <label for="data">Data</label>
      <input name="data" type="datetime-local" class="form-control" id="data" [(ngModel)]="noticia.data" required>
    </div>
    <div class="form-group form-check">
      <label>
      <input type="checkbox" name="publicada" class="form-check-input" [(ngModel)]="noticia.publicada">
      Publicada?
      </label>
    </div>
    <div class="form-group form-check">
      <label>
      <input type="checkbox" name="destaque" class="form-check-input" [(ngModel)]="noticia.destaque">
      Destaque?
      </label>
    </div>  
    <div>
      <button class="btn btn-success">Atualizar</button>
    </div>
  </form>
</div>
<div class="alert alert-warning" *ngIf="noticia_erro">
    Não foi possível obter a notícia solicitada.
</div>